- オブジェクト指向では、オブジェクトと呼ばれるパーツを連携させることでアプリなどの機能を実現します。
- 手続き型では、処理をまとめるために関数という仕組みがあります。オブジェクト指向では、さらに複数の関数をまとめて１つのオブジェクトとして扱います。
- このオブジェクトを利用することで、手続き型とどのような違いが生まれるのか、もう少し詳しくみていきましょう。
- 手続き型とオブジェクト指向の違いをイメージできるよう、ここからは現実世界での例を用いて比喩的に解説します。
- 「カレーをつくる」という作業を例に、手続き型とオブジェクト指向の発想の違いを確認しましょう。
- 手続き型的アプローチは、1人でカレーを作るときに適しています。
- カレー作りに必要な手順を紙にまとめ、上から順に取り組んでいくイメージです。
- それに対して、オブジェクト指向はレストランなどで大量にカレーを作る際に適した発想です。
- 例えば10人でカレーを作る場合、以下のように全員が同じ手順を踏んでいくことは効率的ではありません。
10人で食材を買いに行く
10人で野菜を洗う
10人で野菜を切る
- 通常は、買い出しに行くチームや野菜担当のチーム,肉担当のチームなどに分かれて、それぞれの作業を行うのではないでしょうか。
- また、必要な材料や道具をチームごとに配っておけば効率よく作業ができます。
- このカレー作りでの「チーム」に当たるのが、オブジェクト指向における「オブジェクト」です。
- 役割ごとに分けたチームが連携してカレーを作るように、機能ごとに分けたオブジェクトを連携させてアプリを開発するのがオブジェクト指向の考え方です。
- オブジェクト指向におけるオブジェクトについて、必ず押さえておきたい特徴が３つあります。
① １つのオブジェクトには、１つの責務がある
② オブジェクトにはメソッドと変数が含まれる
③ 他にオブジェクトに公開するメソッドや変数は必要最低限のもののみとする
- これらの意味について、カレー作りの例と比べながら確認しましょう。
- カレー作りの例では、チームごとに役割を分けることで効率的に作業できることを確認しました。
- それと同じように、１つのオブジェクトには１つの機能を持たせるよう設計するのが良いと言われています。
- これを、単一責任の原則といいます。
- 例えば、フォームからの投稿機能を実装する場合は、以下のようなオブジェクトを作成し、それらを連携させることで機能を実現できるようにします。
データの入れ物となるオブジェクト
フォームからデータを受け取るオブジェクト
SQLを発行するオブジェクト
上記のオブジェクトをコントロールするオブジェクト
- オブジェクトにはメソッドや変数が含まれる
- カレー作りの例では、各チームにメンバーが配置され、必要な道具や材料が割り振られていました。
- チームのタスクを実行するメンバー、メンバーが使用するツールや材料
- オブジェクトは「メソッド」と「変数」をひとまとめにしたものです。メソッドは、チームに配置されたメンバーのようなものです。メンバーが野菜を加工するように、メソッドはオブジェクト内の変数の変更や参照といった処理を担います。
- カレー作りでも、初めに決められた仕事以外を手伝うと、たとえそれが善意であっても返って混乱することがあります。カレー作りで、じゃがいもの皮むきを追加で10個行う必要が出たとします。その場合、別チームのメンバーが代わりに手伝うことはしません。
- 混乱を防ぐためには、別チームのタスクを直接行うのではなく、そのチームの担当にタスクを依頼する仕組みにする必要があります。必ず、野菜担当に「追加で１０個皮をむいてほしい」ということを伝えるのみで、実際の皮むきは担当者が行います。
- それと同じように、オブジェクト指向ではあるメソッドが、別のオブジェクトの変数に直接アクセスしないよう設計します。
- たとえば、別のオブジェクトに含まれる変数を取得したい場合は、相手方のオブジェクトに含まれる「取得用のメソッド」に対して、データ取得を依頼する形になります。
